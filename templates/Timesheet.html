{% extends "base.html" %}

{% block title %}TIMESHEET{% endblock %}

{% block head %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="/static/JS/timesheet.js"></script>
{% endblock %}

{% block content %}
<div class="page-container-fluid px-3">
  <div class="d-flex justify-content-between align-items-center my-3">
    <h2 class="fw-bold">AV DETAILS</h2>

    <!-- Search input -->
    <div class="input-group w-50">
      <input type="text" id="drawing-number" class="form-control" placeholder="Enter Drawing Number...">
      <button class="btn btn-primary" onclick="searchCSVData()">Search</button>
      <button class="btn btn-danger" id="clear-filters">Clear</button>
    </div>
  </div>

  <!-- Loading spinner -->
  <div id="loading" class="text-center my-3" style="display:none;">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <!-- Bootstrap table (same style as PN_DATA.html) -->
  <div class="table-responsive" style="max-height: calc(100vh - 220px);">
    <table id="csv-data-container" class="table table-bordered table-hover table-sm align-middle">
      <thead class="table-dark sticky-top">
        <tr id="csv-header">
          <!-- Headers inserted dynamically -->
        </tr>
      </thead>
      <tbody id="csv-body">
        <!-- Rows inserted dynamically -->
      </tbody>
    </table>
  </div>

  <!-- Error message -->
  <div id="error-message" class="alert alert-danger mt-3 d-none"></div>
</div>
{% endblock %}
